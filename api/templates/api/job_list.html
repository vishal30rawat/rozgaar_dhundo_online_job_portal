{% extends 'api/base.html' %}
{% load static %}

{% block content %}

<h1 align="center"> Jobs</h1>
<div class="search_job" style="position: absolute;top: 150px; right:40px; background:pink; width:400px; padding: 20px 10px;text-align:center;height:500px;">
    <h3>Search & Filter Jobs</h3>
    <form  method="GET" action="" >
    Is Remote Job:  <input type="radio" id="remote_true" name="is_remote" value="true">True
    <input type="radio" id="remote_false" name="is_remote" value="false">False <br><br>

    skills: <select name="skill" multiple>
    {% for skill in skills %}
        <option value="{{skill.id}}">{{skill.name}}</option>
    {% endfor %}
    </select><br><br>

    Cities: <select name="city" multiple style="width:150px;">
    {% for city in cities %}
        <option value="{{city.id}}">{{city.name}}</option>
    {% endfor %}
    </select><br><br>
    Companies: <select name="company" multiple style="width:150px;">
    {% for company in companies %}
        <option value="{{company.id}}">{{company.name}}</option>
    {% endfor %}
    </select>
    <br><br>
    posted date from: <input type="date" name="from_date"><br><br>
    posted date to: <input type="date" name="to_date"> <br><br>
    Search <input type="search" name="search" placeholder="Job title/company name"><br><br>
    <input type="submit">

</form>
</div>

{% if job_posts %}
<div class="jobs table" style="position:absolute;width:1000px; height:1000px;top:110px;right:530px;">

    <table width="100%" border="solid" style="text-align:center;margin:50px 50px;">
        <th>Title</th>
        <th>Company</th>
        <th>Company Logo</th>
        <th>Can be remote</th>
        <th> View More</th>
        {% for job_post in job_posts %}
            <tr>
                <td>{{job_post.title}}</td>
                <td>{{job_post.company.name}}</td>
                <td><img src="{{job_post.company.logo.url}}" alt="{{job_post.company.name}}" width="50px" height="30px"></td>
                <td>{{job_post.can_be_remote}}</td>
                <td><a href="/jobdetail/{{ job_post.id }}/" target="_blank" class="see_detail">detail</a></td>
            </tr>
        {% endfor %}
    </table>

{% endif %}
<div class="pagination" style="text-align:center;font-weight:bold;font-size:25px; top:500px; right:370px; position:absolute;">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
</div>

    {% endblock %}
